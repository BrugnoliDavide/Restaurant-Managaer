<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane fx:id="rootPane" styleClass="view-background" stylesheets="@/style.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.rm.view.UsersController">

    <top>
        <VBox spacing="5">
            <padding>
                <Insets bottom="10" left="20" right="20" top="20" />
            </padding>
            <Label style="-fx-font-size: 24px;" styleClass="text-title" text="Gestione Staff" />
            <Label style="-fx-font-size: 14px;" styleClass="text-muted" text="Aggiungi o rimuovi membri del team" />
        </VBox>
    </top>

    <center>
        <TableView fx:id="usersTable" style="-fx-background-color: transparent;">
            <columns>
                <TableColumn prefWidth="200" text="Username">
                    <cellValueFactory>
                        <PropertyValueFactory property="username" />
                    </cellValueFactory>
                </TableColumn>

                <TableColumn prefWidth="150" text="Ruolo">
                    <cellValueFactory>
                        <PropertyValueFactory property="role" />
                    </cellValueFactory>
                </TableColumn>

            </columns>

            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
            </columnResizePolicy>

            <BorderPane.margin>
                <Insets bottom="10" left="20" right="20" />
            </BorderPane.margin>
        </TableView>
    </center>

    <bottom>
        <HBox alignment="CENTER_LEFT" spacing="10">
            <padding>
                <Insets bottom="20" left="20" right="20" top="15" />
            </padding>

            <TextField fx:id="txtUser" prefWidth="150" promptText="Username" styleClass="input-standard" stylesheets="@style.css" />
            <TextField fx:id="txtPass" prefWidth="150" promptText="Password" styleClass="input-standard" stylesheets="@style.css" />
            <ComboBox fx:id="comboRole" prefWidth="150" promptText="Seleziona Ruolo" styleClass="btn-primary" stylesheets="@style.css" />

            <Button onAction="#handleAdd" styleClass="btn-save" stylesheets="@style.css" text="Aggiungi" />

            <Region HBox.hgrow="ALWAYS" />

            <Button onAction="#handleDelete" style="-fx-background-color: #E02E2E; -fx-text-fill: white; -fx-cursor: hand;" styleClass="btn-primary" stylesheets="@style.css" text="Rimuovi Selezionato" />

            <Button onAction="#goBack" styleClass="dashboard-btn" stylesheets="@style.css" text="Indietro" />
        </HBox>
    </bottom>

</BorderPane>
